---
import Layout from '../layouts/Default.astro';
import Footer from '../components/Footer.astro';

import { getCollection } from 'astro:content';

const posts = (await getCollection('p'))
    .filter(entry => {
        // return  entry.data.state === 'published' ||import.meta.env.DEV;
    return true
    })
    .sort( (a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf());

import { ProjectsView } from '../features/projects_view/index';
---

<Layout description="Connor Guy Meehan Codes">
    <section class="min-h-[80vh] relative">
        <h1 class="container font-semibold text-4xl md:text-6xl absolute left-1/2 -translate-x-1/2 top-1/3 -translate-y-1/2">
            Howdy! My name is Connor and I like things that just workâ„¢.
        </h1>
    </section>
    <section class="pb-20">
        <ProjectsView client:only collection={posts} />
    </section>
    <Footer extraClass="" />
</Layout>
